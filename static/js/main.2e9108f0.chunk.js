(this.webpackJsonpplayground=this.webpackJsonpplayground||[]).push([[0],{71:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(8),s=n.n(i),o=(n(71),n(24));!function(e){e[e.ADD=0]="ADD",e[e.MINUS=1]="MINUS",e[e.MULTIPLY=2]="MULTIPLY",e[e.DIVIDE=3]="DIVIDE"}(r||(r={}));var u,l,d,b,h,j,f,x=function(e){localStorage.setItem("mathSight-userId",JSON.stringify(e))},p=function(e,t){localStorage.setItem("mathSight-operationType-"+e,JSON.stringify(t))},O=function(e){var t=localStorage.getItem("mathSight-operationType-"+e);return t?JSON.parse(t):(p(e,r.ADD),0)},g=function(e,t){localStorage.setItem("mathSight-highScore-"+e,JSON.stringify(t))},m=n(48),S=n(49),v=function(){function e(t,n,c,a){Object(m.a)(this,e),this.id=void 0,this.numberOne=void 0,this.numberTwo=void 0,this.operation=void 0,this.id=t,this.numberOne=n,this.numberTwo=c,this.operation=a||r.ADD}return Object(S.a)(e,[{key:"getResult",value:function(){var e=Number(this.numberOne),t=Number(this.numberTwo);switch(this.operation){case r.MINUS:return e-t;case r.MULTIPLY:return e*t;case r.DIVIDE:return e/t;default:return e+t}}}]),e}(),I=n(3),w=a.a.createContext(null),D=function(e){var t=e.children,n=Object(c.useState)(function(){var e=localStorage.getItem("mathSight-userId");return e?JSON.parse(e):(x(""),"")}()),i=Object(o.a)(n,2),s=i[0],u=i[1],l=a.a.useRef(0),d=a.a.useRef(0),b=a.a.useRef(0),h=a.a.useState(O(s)),j=Object(o.a)(h,2),f=j[0],m=j[1],S=a.a.useState(O(s)),D=Object(o.a)(S,2),k=(D[0],D[1],Object(c.useState)([])),C=Object(o.a)(k,2),M=C[0],y=C[1],N=Object(c.useState)([]),T=Object(o.a)(N,2),A=T[0],U=T[1],E=Object(c.useState)(!1),R=Object(o.a)(E,2),L=R[0],z=R[1],J=Object(c.useState)(function(e){var t=localStorage.getItem("mathSight-highScore-"+e);return t?Number(JSON.parse(t)):(g(e,0),0)}(s)),P=Object(o.a)(J,2),V=P[0],q=P[1],Y=Object(c.useState)(function(e){var t=localStorage.getItem("mathSight-currentScore-"+e);return t?Number(JSON.parse(t)):(p(e,0),0)}(s)),Q=Object(o.a)(Y,2),H=Q[0],W=Q[1];Object(c.useEffect)((function(){x(s)}),[s]),Object(c.useEffect)((function(){s&&g(s,V)}),[s,V]),Object(c.useEffect)((function(){s&&function(e,t){localStorage.setItem("mathSight-currentScore-"+e,JSON.stringify(t))}(s,H)}),[s,H]),Object(c.useEffect)((function(){s&&(p(s,f),G())}),[s,f]);var B=a.a.useCallback((function(e,t,n,r){l.current=t,d.current=n,b.current=r,u(e)}),[]),F=a.a.useCallback((function(){y([]),U([]),z(!1),q(V),W(H)}),[y,U,z,q,V,W,H]),G=a.a.useCallback((function(){F();var e,t=[];e=f===r.ADD||f===r.MINUS?l.current:f===r.MULTIPLY?d.current:b.current;for(var n=0,c=1e5,a=0;a<10;a++){n++;var i=Math.floor(Math.random()*e),s=Math.floor(Math.random()*e);if(n>=c)break;if(f===r.DIVIDE){if(1===i||1===s){a-=1;continue}for(;(i===s||i%s!==0)&&(n++,s=Math.floor(Math.random()*e),!(n>=c)););}if(f!==r.MULTIPLY&&f!==r.DIVIDE||0!==i&&0!==s)if((f===r.MINUS||f===r.DIVIDE)&&i<s)a-=1;else{var o=new v(a,i,s,f);t.push(o)}else a-=1}y(t)}),[l,d,b,f,F]),X=a.a.useCallback((function(e){return Number(A[e.id])===Number(e.getResult())}),[A]);return Object(I.jsx)(w.Provider,{value:{userId:s,operationType:f,questions:M,answers:A,showResults:L,highScore:V,currentScore:H,initUser:B,setUserId:u,setOperationType:m,setQuestions:y,setAnswers:U,setShowResults:z,setHighScore:q,setCurrentScore:W,resetFields:F,generateQuestions:G,checkAnswer:X},children:t})},k=n(111),C=n(22),M=n(58),y=n(23),N=function(){var e=a.a.useContext(w),t=a.a.useCallback((function(t,n){if(e){var r=Object(M.a)(e.answers);r.length<=t?r.push(n):r[t]=n,e.setAnswers(r)}}),[e]),n=a.a.useCallback((function(e){switch(e){case r.MINUS:return"-";case r.MULTIPLY:return"x";case r.DIVIDE:return"/";default:return"+"}}),[]),c=a.a.useCallback((function(t){return!!e&&(0===t||t<(null===e||void 0===e?void 0:e.answers.length)+1)}),[e]),i=a.a.useCallback((function(t){return(null===e||void 0===e?void 0:e.answers[t])||""}),[e]);return a.a.useEffect((function(){null===e||void 0===e||e.generateQuestions()}),[]),e?Object(I.jsx)(k.a,{marginX:5,children:Object(I.jsx)(k.a,{flexDirection:"column",children:e.questions.map((function(r){return Object(I.jsxs)(k.a,{display:"flex",m:1.5,fontSize:26,fontWeight:700,children:[Object(I.jsxs)(T,{children:[Object(I.jsx)(k.a,{pr:1,width:"80px",children:r.numberOne}),Object(I.jsx)(k.a,{pr:1,flexGrow:1,children:n(r.operation)}),Object(I.jsx)(k.a,{width:"80px",children:r.numberTwo})]}),Object(I.jsx)(A,{type:"number",value:i(r.id),onChange:function(e){return t(r.id,e.target.value)},disabled:!c(r.id)}),Object(I.jsx)(U,{width:"100px",pl:3,lineHeight:"30px",correct:e.checkAnswer(r),children:e.showResults&&Object(I.jsx)(k.a,{children:r.getResult()})})]},r.id)}))})}):null},T=Object(y.a)(k.a)(u||(u=Object(C.a)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  text-align: center;\n  margin-right: 32px;\n  background: #d1dcf9;\n  border-radius: 10px;\n  font-size: 20px;\n  line-height: 35px;\n"]))),A=y.a.input(l||(l=Object(C.a)(["\n  width: 100px;\n  font-size: 20px;\n  border: 2px solid black;\n  border-radius: 10px;\n  outline: none;\n  padding: 6px;\n\n  &:disabled {\n    border: 2px solid #cacaca;\n    background: #e0e0e0;\n  }\n"]))),U=Object(y.a)(k.a)(d||(d=Object(C.a)(["\n  color: ",";\n"])),(function(e){return e.correct?"green":"red"})),E=function(){return Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a,{ml:8,mb:4,children:Object(I.jsx)("h1",{children:"Mathsight"})}),Object(I.jsx)(N,{})]})},R=n(112),L=n(109),z=n(108),J=function(){var e=a.a.useContext(w),t=a.a.useCallback((function(t){if(e){var n=e.currentScore+t;e.setCurrentScore(n)}}),[e]),n=a.a.useCallback((function(t){if(e){var n=e.currentScore+t;n<=e.highScore||e.setHighScore(n)}}),[e]),c=a.a.useCallback((function(t){null===e||void 0===e||e.setOperationType(t.target.value)}),[e]),i=a.a.useCallback((function(){return e?e.questions.filter((function(t){return e.checkAnswer(t)})).length:0}),[e]),s=a.a.useCallback((function(){if(e){var r=i();r===e.questions.length?(n(e.questions.length),t(e.questions.length)):(n(r),e.setCurrentScore(0)),e.setShowResults(!0)}}),[e,i,n,t]);return e?Object(I.jsxs)(k.a,{children:[Object(I.jsx)(k.a,{marginTop:"20px",children:Object(I.jsxs)(P,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:e.operationType,onChange:c,children:[Object(I.jsx)(R.a,{value:r.ADD,children:"Add"}),Object(I.jsx)(R.a,{value:r.MINUS,children:"Minus"}),Object(I.jsx)(R.a,{value:r.MULTIPLY,children:"Multiply"}),Object(I.jsx)(R.a,{value:r.DIVIDE,children:"Divide"})]})}),!e.showResults&&Object(I.jsx)(k.a,{mt:2,children:Object(I.jsx)(V,{})}),Object(I.jsxs)(k.a,{flexDirection:"column",mt:2,children:[Object(I.jsx)(q,{variant:"contained",color:"primary",onClick:function(){return s()},disabled:e.showResults||e.answers.length<e.questions.length,children:"Check Answers"}),Object(I.jsx)(Y,{variant:"contained",color:"primary",onClick:function(){return e.generateQuestions()},disabled:!e.showResults,children:"New Questions"}),e.showResults&&Object(I.jsxs)(k.a,{marginTop:"60px",fontSize:40,fontWeight:600,textAlign:"center",children:["Correct: ",i()]}),Object(I.jsx)(k.a,{textAlign:"center",children:Object(I.jsx)("h1",{children:"Results"})}),Object(I.jsxs)(k.a,{marginTop:"20px",fontSize:40,fontWeight:600,textAlign:"center",children:["Current total: ",e.currentScore]}),Object(I.jsxs)(k.a,{marginTop:"20px",fontSize:40,fontWeight:600,textAlign:"center",children:["High score: ",e.highScore]})]})]}):null},P=Object(y.a)(L.a)(b||(b=Object(C.a)(["\n  width: 350px;\n  background: #d1dcf9;\n  outline: none;\n  border-radius: 10px;\n  font-size: 20px;\n  padding: 10px;\n\n  &::before {\n    border: 0px;\n  }\n\n  &::after {\n    border: 0px;\n  }\n\n  &.MuiInput-underline:hover:not(.Mui-disabled):before {\n    border-bottom: 0px;\n  }\n\n  .MuiSelect-select:focus {\n    border-radius: 10px;\n    background: #d1dcf9;\n}\n"]))),V=y.a.textarea(h||(h=Object(C.a)(["\n  width: 350px;\n  height: 200px;\n  border: 3px solid #d1dcf9;\n  border-radius: 10px;\n  font-size: 18px;\n  padding: 15px;\n  outline: none;\n"]))),q=Object(y.a)(z.a)(j||(j=Object(C.a)(["\n  padding: 10px 20px;\n  font-size: 16px;\n  font-weight: 600;\n  margin-right: 20px;\n  border-radius: 10px;\n  text-transform: none;\n"]))),Y=Object(y.a)(z.a)(f||(f=Object(C.a)(["\n  padding: 10px 20px;\n  font-size: 16px;\n  font-weight: 600;\n  border-radius: 10px;\n  text-transform: none;\n"]))),Q=function(){var e=a.a.useContext(w);return a.a.useEffect((function(){null===e||void 0===e||e.initUser("a",1e3,12,100)}),[]),Object(I.jsxs)(k.a,{display:"flex",children:[Object(I.jsx)(E,{}),Object(I.jsx)(J,{})]})},H=function(){var e=a.a.useContext(w);return a.a.useEffect((function(){null===e||void 0===e||e.initUser("s",20,6,12)}),[]),Object(I.jsxs)(k.a,{display:"flex",children:[Object(I.jsx)(E,{}),Object(I.jsx)(J,{})]})},W=n(57),B=n(10);var F=function(){return Object(I.jsx)(W.a,{children:Object(I.jsx)(D,{children:Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)(B.c,{children:[Object(I.jsx)(B.a,{path:"/a",exact:!0,component:Q}),Object(I.jsx)(B.a,{path:"/s",exact:!0,component:H})]})})})})};s.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(F,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.2e9108f0.chunk.js.map